<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RMVS Class Tuitions - Digital Lab</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        /* --- THEME --- */
        :root {
            --primary: #4f46e5;
            --accent: #0ea5e9;
            --bg-gradient: linear-gradient(135deg, #eff6ff 0%, #e0f2fe 100%);
            --glass: rgba(255, 255, 255, 0.95);
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            color: #1e293b;
            margin: 0; padding: 0;
            padding-bottom: 120px;
        }

        /* HEADER */
        header {
            background: var(--glass);
            padding: 15px 20px;
            position: sticky; top: 0; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-bottom: 1px solid #e2e8f0;
        }
        .logo { font-weight: 800; color: var(--primary); font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
        .xp-pill { background: #ca8a04; color: #fff; padding: 5px 12px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; }

        /* CONTAINER */
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 0 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .full-width { grid-column: 1 / -1; }

        /* WIDGETS */
        .widget {
            background: var(--glass);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,255,255,0.6);
            position: relative;
        }
        h3 { margin-top: 0; color: var(--primary); display: flex; align-items: center; gap: 10px; font-size: 1.2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }

        /* INPUTS & BUTTONS */
        input, textarea, select {
            width: 100%; padding: 12px;
            border: 2px solid #cbd5e1; border-radius: 10px;
            font-size: 1rem; margin-bottom: 10px;
            box-sizing: border-box; background: #f8fafc;
        }
        button {
            background: var(--primary); color: white; border: none;
            padding: 12px; border-radius: 10px; cursor: pointer;
            font-weight: 600; width: 100%; font-size: 1rem;
        }
        button:hover { background: #4338ca; }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        .btn-whatsapp { background: #25D366; color: white; }

        /* PDF BOX */
        .pdf-box {
            background: white; color: black; padding: 40px; position: relative;
            border: 1px solid #ddd; min-height: 400px;
            font-family: 'Times New Roman', serif; line-height: 1.6;
        }
        .watermark {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 40px; font-weight: bold; color: rgba(0,0,0,0.05);
            pointer-events: none; white-space: nowrap;
        }
        .pdf-text { position: relative; z-index: 10; }
        .output { display: none; margin-top: 15px; }

        /* TRANSLATION BOX */
        .hourly-box {
            background: #fffbeb; border-left: 5px solid #d97706;
            padding: 15px; border-radius: 8px; margin-bottom: 15px;
        }

        /* FLOAT WA */
        .float-wa {
            position: fixed; bottom: 90px; right: 20px;
            background: #25D366; color: white;
            width: 60px; height: 60px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            z-index: 1000; text-decoration: none;
        }

        /* NAV */
        .bottom-nav {
            position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%);
            background: #1e293b; padding: 10px 30px; border-radius: 50px;
            display: flex; gap: 25px; z-index: 1000; box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }
        .bottom-nav a { color: #94a3b8; font-size: 1.4rem; }
        .bottom-nav a.active { color: #fff; transform: scale(1.2); }
    </style>
</head>
<body>

    <header>
        <div class="logo"><i class="fa-solid fa-graduation-cap"></i> RMVS Tuitions</div>
        <div class="xp-pill">XP: <span id="xp-points">0</span></div>
    </header>

    <div class="container">

        <div class="widget full-width" style="background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%); color: white; text-align:center;">
            <h2 style="margin:0; font-size:1.4rem;">üìÖ ‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ (23 Feb 2026)</h2>
            <div style="font-size: 2rem; font-weight: 800; margin-top: 10px;" id="countdown">00d 00h 00m</div>
        </div>

        <div class="widget full-width" id="translation">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3><i class="fa-solid fa-language"></i> ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ (Translation)</h3>
                <span style="background:#d97706; color:white; padding:2px 8px; border-radius:5px; font-size:0.8rem;">Changes Hourly</span>
            </div>
            
            <p style="color:#64748b; font-size:0.9rem;">‡§á‡§∏ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ï‡§æ ‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ ‡§ï‡§∞‡•á‡§Ç:</p>
            
            <div class="hourly-box">
                <h4 style="margin:0 0 5px 0; color:#b45309;">‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´:</h4>
                <p id="hindi-para" style="font-size:1.1rem; line-height:1.6; color:#1e293b; font-weight:500;">Loading...</p>
            </div>

            <textarea id="user-trans" rows="3" placeholder="Write English translation here..."></textarea>
            
            <button onclick="checkTranslation()">‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç (Check Answer)</button>
            
            <div id="trans-result" class="output">
                <h4 style="margin:0; color:green;">‡§∏‡§π‡•Ä ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ (Correct English):</h4>
                <p id="english-para" style="font-style:italic; color:#334155; margin-top:5px;"></p>
                <button onclick="shareScore()" class="btn-whatsapp" style="margin-top:10px; width:auto; padding:8px 15px;">
                    <i class="fa-brands fa-whatsapp"></i> Share Attempt
                </button>
            </div>
        </div>

        <div class="widget" id="game">
            <div style="display:flex; justify-content:space-between;">
                <h3><i class="fa-solid fa-gamepad"></i> ‡§∏‡•ç‡§™‡•á‡§≤‡§ø‡§Ç‡§ó ‡§ó‡•á‡§Æ</h3>
                <span id="game-timer" style="background:#dc2626; color:white; padding:2px 8px; border-radius:5px; font-weight:bold;">10s</span>
            </div>
            
            <div style="background:#fff7ed; border:2px dashed #f97316; padding:15px; text-align:center; border-radius:12px; margin-bottom:15px;">
                <div id="scramble-word" style="font-size:1.8rem; letter-spacing:4px; color:#ea580c; font-weight:bold;">LOADING...</div>
                <small id="scramble-hint" style="color:#c2410c;">(Hint...)</small>
            </div>
            
            <input type="text" id="user-guess" placeholder="Spelling..." style="text-align:center;">
            <button onclick="checkSpelling()" style="background:#ea580c;">Check</button>
            <div id="game-result" style="text-align:center; margin-top:10px; display:none;"></div>
        </div>

        <div class="widget">
            <h3><i class="fa-solid fa-clock"></i> ‡§ï‡§æ‡§≤ ‡§ö‡§ï‡•ç‡§∞ (100 Verbs)</h3>
            <select id="tense-verb" onchange="showTense()"></select>
            <div id="tense-output" class="output" style="padding:10px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                    <div style="background:#e0e7ff; padding:8px; border-radius:5px;"><small>Present</small><br><strong id="t-p"></strong></div>
                    <div style="background:#fee2e2; padding:8px; border-radius:5px;"><small>Past</small><br><strong id="t-pt"></strong></div>
                    <div style="background:#dcfce7; padding:8px; border-radius:5px;"><small>Future</small><br><strong id="t-f"></strong></div>
                    <div style="background:#fef3c7; padding:8px; border-radius:5px;"><small>Cont.</small><br><strong id="t-c"></strong></div>
                </div>
            </div>
        </div>

        <div class="widget full-width" id="essay">
            <h3><i class="fa-solid fa-scroll"></i> Essay (UP Board)</h3>
            <select id="essay-select" onchange="loadEssay()">
                <option value="">-- Select Essay --</option>
            </select>
            <div id="essay-container" class="output">
                <div id="essay-pdf-area" class="pdf-box">
                    <div class="watermark">RMVS Class Tuitions</div>
                    <div id="essay-text" class="pdf-text"></div>
                </div>
                <button onclick="downloadPDF('essay-pdf-area', 'Essay.pdf')" class="btn-outline" style="margin-top:15px;">
                    <i class="fa-solid fa-download"></i> Download PDF
                </button>
            </div>
        </div>

        <div class="widget full-width" id="letters">
            <h3><i class="fa-solid fa-envelope"></i> Letter Writer</h3>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                <input type="text" id="l-subject" placeholder="Subject">
                <input type="text" id="l-to" value="The Principal">
            </div>
            <textarea id="l-reason" rows="2" placeholder="Reason"></textarea>
            <button onclick="generateLetter()">Generate Letter</button>
            <div id="letter-container" class="output">
                <div id="letter-pdf-area" class="pdf-box">
                    <div class="watermark">RMVS Class Tuitions</div>
                    <div id="letter-text" class="pdf-text" style="white-space:pre-wrap;"></div>
                </div>
                <button onclick="downloadPDF('letter-pdf-area', 'Letter.pdf')" class="btn-outline" style="margin-top:15px;">
                    <i class="fa-solid fa-download"></i> Download PDF
                </button>
            </div>
        </div>

    </div>

    <a href="https://wa.me/919876543210" class="float-wa"><i class="fa-brands fa-whatsapp"></i></a>

    <nav class="bottom-nav">
        <a href="#translation" class="active"><i class="fa-solid fa-language"></i></a>
        <a href="#game"><i class="fa-solid fa-gamepad"></i></a>
        <a href="#essay"><i class="fa-solid fa-file-lines"></i></a>
        <a href="#letters"><i class="fa-solid fa-envelope"></i></a>
    </nav>

    <script>
        // --- 1. TIMER ---
        function updateTimer() {
            const examDate = new Date("February 23, 2026 09:00:00").getTime();
            const now = new Date().getTime();
            const diff = examDate - now;
            if (diff > 0) {
                const d = Math.floor(diff / (1000 * 60 * 60 * 24));
                const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById("countdown").innerText = `${d} ‡§¶‡§ø‡§® ${h} ‡§ò‡§Ç‡§ü‡•á`;
            } else {
                document.getElementById("countdown").innerText = "Best of Luck!";
            }
        }
        setInterval(updateTimer, 1000); updateTimer();

        // --- 2. HOURLY TRANSLATION LOGIC (NO REPEAT) ---
        const paragraphs = [
            {h: "‡§≠‡§æ‡§∞‡§§ ‡§è‡§ï ‡§Æ‡§π‡§æ‡§® ‡§¶‡•á‡§∂ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•Ä ‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø ‡§¨‡§π‡•Å‡§§ ‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§®‡•á‡§ï ‡§ß‡§∞‡•ç‡§Æ‡•ã‡§Ç ‡§ï‡•á ‡§≤‡•ã‡§ó ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•á ‡§¶‡•á‡§∂ ‡§™‡§∞ ‡§ó‡§∞‡•ç‡§µ ‡§π‡•à‡•§", e: "India is a great country. Its culture is very old. People of many religions live here. We are proud of our country."},
            {h: "‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§è‡§ï ‡§∂‡•á‡§∞ ‡§ú‡§Ç‡§ó‡§≤ ‡§Æ‡•á‡§Ç ‡§∏‡•ã ‡§∞‡§π‡§æ ‡§•‡§æ‡•§ ‡§è‡§ï ‡§ö‡•Ç‡§π‡§æ ‡§â‡§∏‡§ï‡•á ‡§ä‡§™‡§∞ ‡§ï‡•Ç‡§¶‡§®‡•á ‡§≤‡§ó‡§æ‡•§ ‡§∂‡•á‡§∞ ‡§ú‡§æ‡§ó ‡§ó‡§Ø‡§æ ‡§î‡§∞ ‡§â‡§∏‡•á ‡§ó‡•Å‡§∏‡•ç‡§∏‡§æ ‡§Ü ‡§ó‡§Ø‡§æ‡•§", e: "Once a lion was sleeping in the forest. A mouse started jumping on him. The lion woke up and got angry."},
            {h: "‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§§‡§ø ‡§π‡•à‡•§ ‡§è‡§ï ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡§æ ‡§∏‡§≠‡•Ä ‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§µ‡§π ‡§ï‡§≠‡•Ä ‡§ù‡•Ç‡§† ‡§®‡§π‡•Ä‡§Ç ‡§¨‡•ã‡§≤‡§§‡§æ‡•§ ‡§â‡§∏‡•á ‡§ï‡§ø‡§∏‡•Ä ‡§ï‡§æ ‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡§æ‡•§", e: "Honesty is the best policy. An honest man is respected by all. He never tells a lie. He is not afraid of anyone."},
            {h: "‡§™‡•ç‡§∞‡§¶‡•Ç‡§∑‡§£ ‡§Ü‡§ú ‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§™‡•á‡§°‡§º ‡§≤‡§ó‡§æ‡§®‡•á ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§™‡•ç‡§≤‡§æ‡§∏‡•ç‡§ü‡§ø‡§ï ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", e: "Pollution is the biggest problem of today. We should plant more and more trees. We should stop using plastic."},
            {h: "‡§∞‡§æ‡§£‡§æ ‡§™‡•ç‡§∞‡§§‡§æ‡§™ ‡§Æ‡•á‡§µ‡§æ‡§°‡§º ‡§ï‡•á ‡§∞‡§æ‡§ú‡§æ ‡§•‡•á‡•§ ‡§µ‡•á ‡§Ö‡§™‡§®‡•Ä ‡§Æ‡§æ‡§§‡•É‡§≠‡•Ç‡§Æ‡§ø ‡§∏‡•á ‡§¨‡§π‡•Å‡§§ ‡§™‡•ç‡§∞‡•á‡§Æ ‡§ï‡§∞‡§§‡•á ‡§•‡•á‡•§ ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á ‡§Æ‡•Å‡§ó‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§Æ‡§®‡•á ‡§ï‡§≠‡•Ä ‡§π‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§æ‡§®‡•Ä‡•§", e: "Rana Pratap was the king of Mewar. He loved his motherland very much. He never accepted defeat before the Mughals."},
            {h: "‡§ó‡§Ç‡§ó‡§æ ‡§è‡§ï ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§®‡§¶‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π ‡§π‡§ø‡§Æ‡§æ‡§≤‡§Ø ‡§∏‡•á ‡§®‡§ø‡§ï‡§≤‡§§‡•Ä ‡§π‡•à‡•§ ‡§π‡§ø‡§Ç‡§¶‡•Ç ‡§á‡§∏‡•á ‡§Æ‡§æ‡§Å ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§á‡§∏‡§ï‡§æ ‡§ú‡§≤ ‡§¨‡§π‡•Å‡§§ ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§Æ‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§", e: "The Ganga is a holy river. It originates from the Himalayas. Hindus call it Mother. Its water is considered very pure."},
            {h: "‡§∏‡•Å‡§≠‡§æ‡§∑ ‡§ö‡§Ç‡§¶‡•ç‡§∞ ‡§¨‡•ã‡§∏ ‡§è‡§ï ‡§Æ‡§π‡§æ‡§® ‡§®‡•á‡§§‡§æ ‡§•‡•á‡•§ ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á '‡§Ü‡§ú‡§æ‡§¶ ‡§π‡§ø‡§Ç‡§¶ ‡§´‡•å‡§ú' ‡§¨‡§®‡§æ‡§à‡•§ ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á ‡§ï‡§π‡§æ ‡§•‡§æ, '‡§§‡•Å‡§Æ ‡§Æ‡•Å‡§ù‡•á ‡§ñ‡•Ç‡§® ‡§¶‡•ã, ‡§Æ‡•à‡§Ç ‡§§‡•Å‡§Æ‡•ç‡§π‡•á‡§Ç ‡§Ü‡§ú‡§æ‡§¶‡•Ä ‡§¶‡•Ç‡§Ç‡§ó‡§æ‡•§'", e: "Subhash Chandra Bose was a great leader. He formed the 'Azad Hind Fauj'. He said, 'You give me blood, I will give you freedom.'"},
            {h: "‡§ï‡§≤ ‡§Æ‡•à‡§Ç ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§•‡§æ‡•§ ‡§∞‡§æ‡§∏‡•ç‡§§‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡•Å‡§ù‡•á ‡§è‡§ï ‡§¨‡•Ç‡§¢‡§º‡§æ ‡§Ü‡§¶‡§Æ‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡•§ ‡§µ‡§π ‡§∏‡§°‡§º‡§ï ‡§™‡§æ‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§•‡§æ‡•§ ‡§Æ‡•à‡§Ç‡§®‡•á ‡§â‡§∏‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡•Ä‡•§", e: "Yesterday I was going to the market. On the way, I met an old man. He wanted to cross the road. I helped him."},
            {h: "‡§™‡§∞‡§ø‡§∂‡•ç‡§∞‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ï‡•Å‡§Ç‡§ú‡•Ä ‡§π‡•à‡•§ ‡§ú‡•ã ‡§≤‡•ã‡§ó ‡§Æ‡•á‡§π‡§®‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§µ‡•á ‡§ï‡§≠‡•Ä ‡§Ö‡§∏‡§´‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•á‡•§ ‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§≠‡•Ä ‡§â‡§®‡•ç‡§π‡•Ä‡§Ç ‡§ï‡§æ ‡§∏‡§æ‡§• ‡§¶‡•á‡§§‡§æ ‡§π‡•à ‡§ú‡•ã ‡§ï‡§∞‡•ç‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§", e: "Hard work is the key to success. Those who work hard never fail. Fortune also favors those who work."},
            {h: "‡§Æ‡•á‡§∞‡§æ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§∂‡§π‡§∞ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•á ‡§ï‡§Æ‡§∞‡•á ‡§¨‡§π‡•Å‡§§ ‡§π‡§µ‡§æ‡§¶‡§æ‡§∞ ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§è‡§ï ‡§¨‡§°‡§º‡§æ ‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§≤‡§Ø ‡§π‡•à‡•§ ‡§Æ‡•á‡§∞‡•á ‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡•á ‡§π‡•à‡§Ç‡•§", e: "My school is the best school in the city. Its rooms are very airy. There is a big library here. My teachers are very good."},
            {h: "‡§§‡§æ‡§ú‡§Æ‡§π‡§≤ ‡§Ü‡§ó‡§∞‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à‡•§ ‡§á‡§∏‡•á ‡§∂‡§æ‡§π‡§ú‡§π‡§æ‡§Å ‡§®‡•á ‡§¨‡§®‡§µ‡§æ‡§Ø‡§æ ‡§•‡§æ‡•§ ‡§Ø‡§π ‡§∏‡§´‡•á‡§¶ ‡§∏‡§Ç‡§ó‡§Æ‡§∞‡§Æ‡§∞ ‡§ï‡§æ ‡§¨‡§®‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§∏‡§æ‡§§ ‡§Ö‡§ú‡•Ç‡§¨‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§è‡§ï ‡§π‡•à‡•§", e: "The Taj Mahal is located in Agra. It was built by Shah Jahan. It is made of white marble. It is one of the seven wonders of the world."},
            {h: "‡§≤‡§æ‡§≤ ‡§¨‡§π‡§æ‡§¶‡•Å‡§∞ ‡§∂‡§æ‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§•‡•á‡•§ ‡§µ‡•á ‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§•‡•á‡•§ ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á '‡§ú‡§Ø ‡§ú‡§µ‡§æ‡§®, ‡§ú‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®' ‡§ï‡§æ ‡§®‡§æ‡§∞‡§æ ‡§¶‡§ø‡§Ø‡§æ‡•§", e: "Lal Bahadur Shastri was the second Prime Minister of India. He was a very simple man. He gave the slogan 'Jai Jawan, Jai Kisan'."},
            {h: "‡§π‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•á ‡§Æ‡§æ‡§§‡§æ-‡§™‡§ø‡§§‡§æ ‡§ï‡§æ ‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§µ‡•á ‡§π‡§Æ‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§¨‡§π‡•Å‡§§ ‡§§‡•ç‡§Ø‡§æ‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§â‡§®‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§ï‡§∞‡§®‡§æ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§ß‡§∞‡•ç‡§Æ ‡§π‡•à‡•§", e: "We should respect our parents. They sacrifice a lot for us. Serving them is our duty."},
            {h: "‡§µ‡•É‡§ï‡•ç‡§∑ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•á ‡§Æ‡§ø‡§§‡•ç‡§∞ ‡§π‡•à‡§Ç‡•§ ‡§µ‡•á ‡§π‡§Æ‡•á‡§Ç ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§µ‡•á ‡§π‡§Æ‡•á‡§Ç ‡§´‡§≤ ‡§î‡§∞ ‡§≤‡§ï‡§°‡§º‡•Ä ‡§≠‡•Ä ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§æ‡§ü‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", e: "Trees are our best friends. They give us oxygen. They also give us fruits and wood. We should not cut them."},
            {h: "‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§è‡§ï ‡§™‡•ç‡§∞‡§æ‡§ö‡•Ä‡§® ‡§®‡§ó‡§∞ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ó‡§Ç‡§ó‡§æ ‡§ï‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§¨‡§∏‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§®‡•á‡§ï ‡§Æ‡§Ç‡§¶‡§ø‡§∞ ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§≠‡•Ä ‡§π‡•à‡•§", e: "Varanasi is an ancient city. It is situated on the bank of the Ganga. There are many temples here. It is also a center of learning."},
            {h: "‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Å‡§ì‡§Ç ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞ ‡§π‡•à‡•§ ‡§á‡§∏ ‡§¶‡§ø‡§® ‡§≠‡§ó‡§µ‡§æ‡§® ‡§∞‡§æ‡§Æ ‡§Ö‡§Ø‡•ã‡§ß‡•ç‡§Ø‡§æ ‡§≤‡•å‡§ü‡•á ‡§•‡•á‡•§ ‡§≤‡•ã‡§ó ‡§Ö‡§™‡§®‡•á ‡§ò‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡•Ä‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§", e: "Diwali is a main festival of Hindus. Lord Rama returned to Ayodhya on this day. People decorate their houses with lamps."},
            {h: "‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§π‡•Ä ‡§ß‡§® ‡§π‡•à‡•§ ‡§è‡§ï ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§π‡•Ä ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§Æ‡§® ‡§®‡§ø‡§µ‡§æ‡§∏ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§π‡§Æ‡•á‡§Ç ‡§∞‡•ã‡§ú ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", e: "Health is wealth. A healthy mind resides in a healthy body. We should exercise daily."},
            {h: "‡§ú‡§µ‡§æ‡§π‡§∞‡§≤‡§æ‡§≤ ‡§®‡•á‡§π‡§∞‡•Ç ‡§¨‡§ö‡•ç‡§ö‡•ã‡§Ç ‡§∏‡•á ‡§¨‡§π‡•Å‡§§ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡•á ‡§•‡•á‡•§ ‡§¨‡§ö‡•ç‡§ö‡•á ‡§â‡§®‡•ç‡§π‡•á‡§Ç '‡§ö‡§æ‡§ö‡§æ ‡§®‡•á‡§π‡§∞‡•Ç' ‡§ï‡§π‡§§‡•á ‡§•‡•á‡•§ ‡§â‡§®‡§ï‡§æ ‡§ú‡§®‡•ç‡§Æ 14 ‡§®‡§µ‡§Ç‡§¨‡§∞ ‡§ï‡•ã ‡§π‡•Å‡§Ü ‡§•‡§æ‡•§", e: "Jawaharlal Nehru loved children very much. Children called him 'Chacha Nehru'. He was born on 14th November."},
            {h: "‡§π‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§Ø ‡§ï‡§æ ‡§∏‡§¶‡•Å‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§¨‡•Ä‡§§‡§æ ‡§π‡•Å‡§Ü ‡§∏‡§Æ‡§Ø ‡§ï‡§≠‡•Ä ‡§µ‡§æ‡§™‡§∏ ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§§‡§æ‡•§ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§Ø ‡§¨‡§π‡•Å‡§§ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§µ‡§æ‡§® ‡§π‡•à‡•§", e: "We should make good use of time. Time once lost never returns. Time is very valuable in student life."},
            {h: "‡§ú‡•Ç‡§® ‡§ï‡§æ ‡§Æ‡§π‡•Ä‡§®‡§æ ‡§•‡§æ‡•§ ‡§ó‡§∞‡•ç‡§Æ‡•Ä ‡§¨‡§π‡•Å‡§§ ‡§§‡•á‡§ú ‡§•‡•Ä‡•§ ‡§®‡§¶‡•Ä ‡§î‡§∞ ‡§§‡§æ‡§≤‡§æ‡§¨ ‡§∏‡•Ç‡§ñ ‡§ó‡§è ‡§•‡•á‡•§ ‡§™‡§ï‡•ç‡§∑‡•Ä ‡§™‡•ç‡§Ø‡§æ‡§∏ ‡§∏‡•á ‡§§‡§°‡§º‡§™ ‡§∞‡§π‡•á ‡§•‡•á‡•§", e: "It was the month of June. The heat was very intense. Rivers and ponds had dried up. Birds were suffering from thirst."}
        ];

        function loadHourlyTranslation() {
            // Get current hour since 1970 to ensure unique index for decades
            const currentHour = Math.floor(Date.now() / (1000 * 60 * 60));
            // Modulo operator loops through array safely
            const index = currentHour % paragraphs.length;
            
            const p = paragraphs[index];
            document.getElementById('hindi-para').innerText = p.h;
            document.getElementById('english-para').innerText = p.e;
            document.getElementById('trans-result').style.display = 'none';
            document.getElementById('user-trans').value = '';
        }
        
        function checkTranslation() {
            document.getElementById('trans-result').style.display = 'block';
            addXP(10);
        }
        loadHourlyTranslation(); // Load immediately

        // --- 3. GAME ---
        const gameWords = [
            {w:"SCHOOL", h:"‡§ú‡§π‡§æ‡§Å ‡§π‡§Æ ‡§™‡§¢‡§º‡§§‡•á ‡§π‡•à‡§Ç"}, {w:"TEACHER", h:"‡§ú‡•ã ‡§π‡§Æ‡•á‡§Ç ‡§™‡§¢‡§º‡§æ‡§§‡•á ‡§π‡•à‡§Ç"}, 
            {w:"FRIEND", h:"‡§¶‡•ã‡§∏‡•ç‡§§"}, {w:"SUMMER", h:"‡§ó‡§∞‡•ç‡§Æ‡•Ä ‡§ï‡§æ ‡§Æ‡•å‡§∏‡§Æ"}, {w:"ENGLISH", h:"‡§è‡§ï ‡§≠‡§æ‡§∑‡§æ"},
            {w:"SUCCESS", h:"‡§∏‡§´‡§≤‡§§‡§æ"}, {w:"STUDENT", h:"‡§õ‡§æ‡§§‡•ç‡§∞"}, {w:"EXAM", h:"‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ"},
            {w:"MORNING", h:"‡§∏‡•Å‡§¨‡§π"}, {w:"WINTER", h:"‡§∏‡§∞‡•ç‡§¶‡•Ä"}
        ];
        let curGameWord, gameTimer, timeLeft = 10, score = 0;
        
        function loadGame() {
            clearInterval(gameTimer);
            timeLeft = 10;
            document.getElementById('game-timer').innerText = "10s";
            curGameWord = gameWords[Math.floor(Math.random() * gameWords.length)];
            document.getElementById('scramble-word').innerText = curGameWord.w.split('').sort(() => 0.5 - Math.random()).join(' ');
            document.getElementById('scramble-hint').innerText = `(${curGameWord.h})`;
            document.getElementById('user-guess').value = "";
            document.getElementById('game-result').style.display = "none";
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('game-timer').innerText = timeLeft + "s";
                if(timeLeft <= 0) {
                    clearInterval(gameTimer);
                    document.getElementById('game-result').style.display = "block";
                    document.getElementById('game-result').innerHTML = "<h4 style='color:red'>‚è∞ Time Up!</h4>";
                    setTimeout(loadGame, 2000);
                }
            }, 1000);
        }
        
        function checkSpelling() {
            const g = document.getElementById('user-guess').value.toUpperCase().trim();
            const res = document.getElementById('game-result');
            res.style.display = "block";
            if(g === curGameWord.w) {
                clearInterval(gameTimer);
                score += 10;
                res.innerHTML = `<h3 style='color:green; margin:0'>üéâ Correct! Score: ${score}</h3>`;
                document.getElementById('xp-points').innerText = score;
                setTimeout(loadGame, 1500);
            } else {
                res.innerHTML = "<h3 style='color:red; margin:0'>‚ùå Wrong!</h3>";
            }
        }
        function shareScore() { window.open(`https://wa.me/?text=I scored ${score} points in RMVS English Game!`, '_blank'); }
        loadGame();

        // --- 4. 100 VERBS ---
        const verbsList = ["Act", "Add", "Ask", "Answer", "Arrive", "Buy", "Break", "Build", "Burn", "Bring", "Call", "Catch", "Carry", "Clean", "Close", "Come", "Cook", "Cry", "Cut", "Dance", "Do", "Dream", "Drink", "Drive", "Eat", "Enter", "Fall", "Feel", "Fight", "Find", "Fly", "Forget", "Forgive", "Get", "Give", "Go", "Grow", "Have", "Hear", "Help", "Hit", "Hold", "Hope", "Hurt", "Jump", "Keep", "Know", "Laugh", "Learn", "Leave", "Like", "Listen", "Live", "Look", "Lose", "Love", "Make", "Meet", "Move", "Need", "Open", "Pay", "Play", "Put", "Read", "Reply", "Run", "Say", "See", "Sell", "Send", "Sing", "Sit", "Sleep", "Smile", "Speak", "Stand", "Start", "Stay", "Stop", "Study", "Swim", "Take", "Talk", "Teach", "Tell", "Think", "Try", "Turn", "Understand", "Use", "Wait", "Walk", "Want", "Watch", "Win", "Work", "Write"];
        verbsList.forEach(v => {
            let opt = document.createElement('option'); opt.value = v; opt.innerText = v;
            document.getElementById('tense-verb').appendChild(opt);
        });

        function showTense() {
            const v = document.getElementById('tense-verb').value;
            let p = v + "s", pt = v + "ed", f = "Will " + v, c = "Is " + v + "ing";
            const irr = {"Go":["Goes","Went","Will Go","Is Going"],"Eat":["Eats","Ate","Will Eat","Is Eating"],"See":["Sees","Saw","Will See","Is Seeing"],"Do":["Does","Did","Will Do","Is Doing"],"Have":["Has","Had","Will Have","Is Having"],"Buy":["Buys","Bought","Will Buy","Is Buying"],"Write":["Writes","Wrote","Will Write","Is Writing"],"Speak":["Speaks","Spoke","Will Speak","Is Speaking"],"Take":["Takes","Took","Will Take","Is Taking"],"Get":["Gets","Got","Will Get","Is Getting"],"Come":["Comes","Came","Will Come","Is Coming"],"Run":["Runs","Ran","Will Run","Is Running"]};
            if(irr[v]) [p, pt, f, c] = irr[v]; else if(v.endsWith('e')) { c = "Is " + v.slice(0,-1) + "ing"; pt = v + "d"; }
            document.getElementById('t-p').innerText = p; document.getElementById('t-pt').innerText = pt;
            document.getElementById('t-f').innerText = f; document.getElementById('t-c').innerText = c;
            document.getElementById('tense-output').style.display="block";
        }

        // --- 5. ESSAYS (UP BOARD) ---
        const essaysDB = {
            "Pollution": "Pollution is a major problem in modern times. It harms our environment and health. There are four types of pollution: air, water, soil, and noise. Factories and vehicles release harmful smoke, causing air pollution. Dirty water from industries spoils rivers, causing water pollution. We must plant more trees to clean the air. We should stop using plastic bags. The government is taking steps to control it, but public help is needed. Let us promise to keep our earth clean and green.",
            "My Best Friend": "A true friend is a blessing. My best friend is Rahul. He is my classmate. He is very honest, kind, and hardworking. We study and play together. He helps me in my studies when I have doubts. His father is a doctor and his mother is a teacher. He respects his elders and loves children. We share our joys and sorrows. I am lucky to have a friend like him. I pray to God for his long life.",
            "My School": "The name of my school is G.I.C. Inter College. It is a very big and famous school in my city. It has a grand building with 50 rooms. There is a big library and a science lab. The teachers are very learned and helpful. The principal is very strict but kind. There is a big playground where we play games. I love my school very much because I learn good manners and discipline here.",
            "Diwali": "Diwali is the festival of lights. It is one of the biggest festivals of Hindus. It marks the return of Lord Rama to Ayodhya after 14 years. People clean and decorate their houses. At night, we light lamps and candles. Children burst crackers and enjoy sweets. We worship Goddess Lakshmi on this day. It teaches us that truth always wins over evil. We should celebrate a safe and eco-friendly Diwali.",
            "Holi": "Holi is the festival of colors. It brings joy and happiness. It marks the victory of good over evil (Prahlad over Holika). People play with 'Gulal' and colored water. Everyone forgets old fights and becomes friends. We eat 'Gujiya' and other sweets. Children love this festival very much. However, we should not use harmful colors. We should play a safe Holi with love.",
            "Independence Day": "We celebrate Independence Day on 15th August every year. On this day in 1947, India became free from British rule. The Prime Minister hoists the national flag at Red Fort, Delhi. We sing our national anthem 'Jana Gana Mana'. Sweets are distributed in schools. We remember our freedom fighters like Bhagat Singh and Gandhi ji. It is a day of great pride for every Indian.",
            "Republic Day": "Republic Day is celebrated on 26th January. On this day in 1950, the Constitution of India came into force. A grand parade is held at India Gate in New Delhi. The President of India takes the salute. Schools celebrate by hoisting the flag and cultural programs. It reminds us of our duties towards our nation. We should love and respect our country.",
            "My Hobby": "A hobby is work done in free time for pleasure. My hobby is gardening. I have a small garden in my house. I grow flowers and vegetables. I water the plants daily. It keeps me active and close to nature. Seeing beautiful flowers gives me peace of mind. Gardening teaches me patience and hard work. It is the best use of my time.",
            "Science: Boon or Curse": "Science has changed our lives completely. It is a blessing (Boon) because it gave us electricity, medicine, mobile phones, and cars. Life is comfortable due to science. However, it can be a curse if used badly. Atom bombs and pollution are results of bad use of science. We should use science for the good of humanity, not for destruction. Science is a good servant but a bad master.",
            "My Mother": "My mother's name is Smt. Geeta Devi. She is a housewife. She is very kind and religious. She wakes up early and cooks food for us. She takes care of the whole family. She teaches me good habits and helps in my homework. She is my first teacher. Her love is selfless. I love my mother very much and respect her.",
            "The Postman": "The postman is a very useful public servant. He wears a khaki uniform. He carries a bag full of letters, parcels, and money orders. He works in all weathers - rain, heat, or cold. He brings news from our relatives. Sometimes he brings bad news, but mostly he brings joy. His life is hard, but he is always smiling. We should respect him.",
            "A Visit to a Fair": "Last Sunday, I went to a village fair with my friends. It was very crowded. There were many shops selling toys, sweets, and clothes. I saw a juggler showing tricks. We sat on a giant wheel (Jhoola) which was scary but fun. We ate jalebis and ice cream. I bought a toy car for my brother. We enjoyed a lot and returned home in the evening.",
            "Value of Games": "Games and sports are very important for health. They keep us fit and active. 'A sound mind lives in a sound body.' Games teach us discipline and team spirit. There are two types of games: Indoor (Chess, Ludo) and Outdoor (Cricket, Football). I like playing Cricket. Games refresh our mind after study. Every student must play games daily.",
            "My Favorite Teacher": "My favorite teacher is Mr. Sharma. He teaches us English. He is very intelligent and kind. His method of teaching is very simple. He never gets angry. He treats us like his own children. He is always punctual and disciplined. I have learnt English grammar from him easily. All students respect him. I want to become a teacher like him.",
            "Coronavirus (COVID-19)": "Corona is a dangerous virus that spread from China. It caused a global pandemic. Many people died due to this disease. The symptoms are fever, cough, and breathing problems. We had to stay in lockdown for months. Schools and shops were closed. Doctors and police worked hard to save us. We learned the value of hygiene and masks. Prevention is better than cure.",
            "My Country (India)": "India is my country. It is a great land of culture and tradition. It is the 7th largest country in the world. New Delhi is its capital. People of many religions live here together in peace. It is famous for monuments like the Taj Mahal. Agriculture is the main occupation. I am proud to be an Indian. I love my country very much.",
            "Mahatma Gandhi": "Mahatma Gandhi is called the 'Father of the Nation'. His full name was Mohandas Karamchand Gandhi. He was born on 2nd October 1869 in Porbandar. He believed in Truth (Satya) and Non-violence (Ahimsa). He led India's freedom struggle against the British. He lived a simple life and wore Khadi. He died on 30th January 1948. We remember him as Bapu.",
            "Save Water": "Water is life. We cannot live without water. The earth has 70% water, but very little is safe for drinking. People waste water in washing cars and bathing. If we waste water, one day we will die of thirst. We should turn off taps after use. Rainwater harvesting is a good way to save water. 'Save Water, Save Life' should be our motto.",
            "A Rainy Day": "It was a hot day in July. Suddenly, dark clouds covered the sky. Cool winds started blowing. Then it started raining heavily. The streets were full of water. Children came out and played in the rain. Some made paper boats. Farmers were happy for their crops. The weather became cool and pleasant. I sat by the window and enjoyed tea.",
            "Discipline": "Discipline means following rules and regulations. It is the key to success. Nature also follows discipline (Sunrise, Sunset). A disciplined student comes to school on time and respects teachers. Without discipline, life becomes chaotic. Soldiers follow strict discipline to protect the country. We must learn self-discipline to achieve our goals."
        };
        for(let topic in essaysDB) {
            let opt = document.createElement('option'); opt.value = topic; opt.innerText = topic;
            document.getElementById('essay-select').appendChild(opt);
        }
        function loadEssay() {
            const t = document.getElementById('essay-select').value;
            if(t && essaysDB[t]) {
                document.getElementById('essay-container').style.display = "block";
                document.getElementById('essay-text').innerHTML = `<h3>${t}</h3><p>${essaysDB[t]}</p>`;
            }
        }

        // --- 6. LETTER ---
        function generateLetter() {
            const s = document.getElementById('l-subject').value;
            const to = document.getElementById('l-to').value;
            const r = document.getElementById('l-reason').value;
            const txt = `To,\n${to},\n[School Name],\n[City]\n\nDate: ${new Date().toLocaleDateString()}\n\nSubject: ${s}\n\nRespected Sir/Madam,\n\nMost respectfully, I beg to state that I am a student of Class 10th in your school.\n\n${r}\n\nTherefore, I request you to kindly grant me permission. I shall be highly obliged to you.\n\nYours Obediently,\n\nName: XYZ\nClass: 10th`;
            document.getElementById('letter-container').style.display="block";
            document.getElementById('letter-text').innerText = txt;
        }

        // --- PDF FIX (Cloning) ---
        function downloadPDF(elementId, filename) {
            const element = document.getElementById(elementId);
            const clone = element.cloneNode(true);
            clone.style.width = '800px';
            clone.style.background = 'white';
            clone.style.color = 'black';
            clone.style.padding = '40px';
            clone.style.position = 'absolute';
            clone.style.top = '-9999px';
            clone.style.left = '0';
            clone.style.display = 'block';
            
            const wm = clone.querySelector('.watermark');
            if(wm) {
                wm.style.color = 'rgba(0,0,0,0.05)';
                wm.style.transform = 'translate(-50%, -50%) rotate(-45deg)';
            }
            
            document.body.appendChild(clone);
            const opt = {
                margin: 10,
                filename: filename,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true, backgroundColor: '#ffffff' },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(clone).save().then(() => { document.body.removeChild(clone); });
        }

        // --- GLOBAL ---
        let xp = 0;
        function addXP(n) { xp += n; document.getElementById('xp-points').innerText = xp; }
        
        document.querySelectorAll('.bottom-nav a').forEach(a => {
            a.addEventListener('click', function() {
                document.querySelectorAll('.bottom-nav a').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
