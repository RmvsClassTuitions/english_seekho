<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RMVS Class Tuitions - Complete Digital Lab</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        /* --- THEME --- */
        :root {
            --primary: #4f46e5;
            --accent: #0ea5e9;
            --bg-gradient: linear-gradient(135deg, #eff6ff 0%, #e0f2fe 100%);
            --glass: rgba(255, 255, 255, 0.95);
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            color: #1e293b;
            margin: 0; padding: 0;
            padding-bottom: 120px;
        }

        /* HEADER */
        header {
            background: var(--glass);
            padding: 15px 20px;
            position: sticky; top: 0; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-bottom: 1px solid #e2e8f0;
        }
        .logo { font-weight: 800; color: var(--primary); font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
        .xp-pill { background: #ca8a04; color: #fff; padding: 5px 12px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; }

        /* CONTAINER */
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 0 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .full-width { grid-column: 1 / -1; }

        /* WIDGETS */
        .widget {
            background: var(--glass);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,255,255,0.6);
            position: relative;
        }
        h3 { margin-top: 0; color: var(--primary); display: flex; align-items: center; gap: 10px; font-size: 1.2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
        p.desc { color: #64748b; font-size: 0.9rem; margin-top: -5px; margin-bottom: 15px; }

        /* INPUTS & BUTTONS */
        input, textarea, select {
            width: 100%; padding: 12px;
            border: 2px solid #cbd5e1; border-radius: 10px;
            font-size: 1rem; margin-bottom: 10px;
            box-sizing: border-box; background: #f8fafc;
        }
        button {
            background: var(--primary); color: white; border: none;
            padding: 12px; border-radius: 10px; cursor: pointer;
            font-weight: 600; width: 100%; font-size: 1rem;
        }
        button:hover { background: #4338ca; }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        .btn-whatsapp { background: #25D366; color: white; }

        /* OMR STYLES */
        .omr-option {
            background: white; padding: 12px; border: 1px solid #ddd;
            border-radius: 8px; cursor: pointer; transition: 0.2s;
            margin-bottom: 8px; font-weight: 500;
        }
        .omr-option:hover { background: #f1f5f9; }

        /* PDF BOX & WATERMARK */
        .watermark {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 40px; font-weight: 900;
            color: rgba(0,0,0,0.05); pointer-events: none;
            z-index: 0; white-space: nowrap;
        }
        .pdf-text { position: relative; z-index: 1; color: black; }
        .output { display: none; margin-top: 15px; }

        /* HOURLY TRANS BOX */
        .hourly-box {
            background: #fffbeb; border-left: 5px solid #d97706;
            padding: 15px; border-radius: 8px; margin-bottom: 15px;
        }

        /* FLOAT WHATSAPP */
        .float-wa {
            position: fixed; bottom: 90px; right: 20px;
            background: #25D366; color: white;
            width: 60px; height: 60px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            z-index: 1000; text-decoration: none;
        }

        /* NAV */
        .bottom-nav {
            position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%);
            background: #1e293b; padding: 10px 30px; border-radius: 50px;
            display: flex; gap: 20px; z-index: 1000; box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            white-space: nowrap; overflow-x: auto; max-width: 90%;
        }
        .bottom-nav a { color: #94a3b8; font-size: 1.4rem; padding: 0 10px; }
        .bottom-nav a.active { color: #fff; transform: scale(1.2); }
    </style>
</head>
<body>

    <header>
        <div class="logo"><i class="fa-solid fa-graduation-cap"></i> RMVS Tuitions</div>
        <div class="xp-pill">XP: <span id="xp-points">0</span></div>
    </header>

    <div class="container">

        <div class="widget full-width" style="background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%); color: white; text-align:center;">
            <h2 style="margin:0; font-size:1.4rem;">üìÖ ‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ (23 Feb 2026)</h2>
            <div style="font-size: 2rem; font-weight: 800; margin-top: 10px;" id="countdown">00d 00h 00m</div>
        </div>

        <div class="widget full-width" id="omr">
            <h3><i class="fa-solid fa-check-circle"></i> OMR Test (20 Marks)</h3>
            <p class="desc">Board Level MCQs Practice</p>
            <div id="quiz-box" style="background:#f8fafc; padding:15px; border-radius:10px; border:1px solid #e2e8f0;">
                <h4 id="q-text" style="margin:0 0 15px 0;">Loading...</h4>
                <div id="options-box"></div>
            </div>
            <div style="display:flex; justify-content:space-between; margin-top:15px; align-items:center;">
                <span style="font-weight:bold; color:#64748b;">Q: <span id="q-num">1</span>/20</span>
            </div>
        </div>

        <div class="widget" id="rules">
            <h3><i class="fa-solid fa-book"></i> Grammar Rules</h3>
            <p class="desc">Short Tricks for Revision</p>
            
            <details style="background:#f1f5f9; padding:10px; border-radius:8px; margin-bottom:10px;">
                <summary style="font-weight:bold; cursor:pointer;">1. Tense Rules</summary>
                <p style="font-size:0.9rem; margin-top:5px; color:#334155;">
                    ‚Ä¢ Present Indefinite: V1 + s/es (He goes)<br>
                    ‚Ä¢ Past Indefinite: V2 (He went)<br>
                    ‚Ä¢ Perfect: Has/Have/Had + V3
                </p>
            </details>
            <details style="background:#f1f5f9; padding:10px; border-radius:8px; margin-bottom:10px;">
                <summary style="font-weight:bold; cursor:pointer;">2. Active -> Passive</summary>
                <p style="font-size:0.9rem; margin-top:5px; color:#334155;">
                    ‚Ä¢ Subject <-> Object<br>
                    ‚Ä¢ Always use V3 (3rd form)<br>
                    ‚Ä¢ Add 'by' before new object<br>
                    ‚Ä¢ Ex: I play cricket -> Cricket is played by me.
                </p>
            </details>
            <details style="background:#f1f5f9; padding:10px; border-radius:8px; margin-bottom:10px;">
                <summary style="font-weight:bold; cursor:pointer;">3. Direct -> Indirect</summary>
                <p style="font-size:0.9rem; margin-top:5px; color:#334155;">
                    ‚Ä¢ said to -> told<br>
                    ‚Ä¢ " " -> that<br>
                    ‚Ä¢ Present -> Past<br>
                    ‚Ä¢ Will -> Would, Can -> Could
                </p>
            </details>
        </div>

        <div class="widget" id="translation">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3><i class="fa-solid fa-language"></i> ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶</h3>
                <span style="background:#d97706; color:white; padding:2px 8px; border-radius:5px; font-size:0.7rem;">Hourly</span>
            </div>
            <div class="hourly-box">
                <p id="hindi-para" style="font-size:1rem; line-height:1.5; color:#1e293b;">Loading...</p>
            </div>
            <textarea id="user-trans" rows="3" placeholder="English translation..."></textarea>
            <button onclick="checkTranslation()">Check Answer</button>
            <div id="trans-result" class="output">
                <h4 style="margin:0; color:green;">Correct English:</h4>
                <p id="english-para" style="font-style:italic; color:#334155; margin-top:5px; font-size:0.9rem;"></p>
            </div>
        </div>

        <div class="widget" id="game">
            <div style="display:flex; justify-content:space-between;">
                <h3><i class="fa-solid fa-gamepad"></i> Game</h3>
                <span id="game-timer" style="background:#dc2626; color:white; padding:2px 8px; border-radius:5px; font-weight:bold;">10s</span>
            </div>
            <div style="background:#fff7ed; border:2px dashed #f97316; padding:15px; text-align:center; border-radius:12px; margin-bottom:15px;">
                <div id="scramble-word" style="font-size:1.5rem; letter-spacing:3px; color:#ea580c; font-weight:bold;">...</div>
                <small id="scramble-hint" style="color:#c2410c;">(Hint...)</small>
            </div>
            <input type="text" id="user-guess" placeholder="Spelling..." style="text-align:center;">
            <button onclick="checkSpelling()" style="background:#ea580c;">Check</button>
            <div id="game-result" style="text-align:center; margin-top:10px; display:none;"></div>
            <button onclick="shareScore()" class="btn-whatsapp" style="margin-top:10px;">
                <i class="fa-brands fa-whatsapp"></i> Share Score
            </button>
        </div>

        <div class="widget" id="dict">
            <h3><i class="fa-solid fa-book-open"></i> Dictionary</h3>
            <div style="display:flex; gap:10px;">
                <input type="text" id="dict-input" style="margin:0;">
                <button onclick="fetchMeaning()" style="width:auto;"><i class="fa-solid fa-search"></i></button>
            </div>
            <div id="dict-output" class="output">
                <div style="display:flex; justify-content:space-between;">
                    <h2 id="word-title" style="margin:0; color:var(--primary);">...</h2>
                    <button onclick="playAudio()" style="width:auto; padding:5px 12px; border-radius:20px;"><i class="fa-solid fa-volume-high"></i></button>
                </div>
                <p id="hindi-word" style="font-size:1.2rem; color:#d946ef; font-weight:bold; margin:5px 0;">...</p>
                <div id="meanings-list" style="font-size:0.9rem;"></div>
            </div>
        </div>

        <div class="widget" id="speaking">
            <h3><i class="fa-solid fa-microphone"></i> Speaking Coach</h3>
            <div style="background:#f1f5f9; padding:10px; border-radius:10px; text-align:center; margin-bottom:10px;">
                <h3 id="speak-target" style="margin:0; color:#334155; font-size:1rem;">I want to learn English.</h3>
            </div>
            <div style="text-align:center;">
                <button onclick="startListening()" id="mic-btn" style="width:50px; height:50px; border-radius:50%; margin:0 auto;"><i class="fa-solid fa-microphone"></i></button>
                <p id="listening-status" style="font-size:0.8rem; margin-top:5px;">Tap & Speak</p>
            </div>
            <div id="speak-result" class="output" style="text-align:center;"></div>
        </div>

        <div class="widget">
            <h3><i class="fa-solid fa-clock"></i> Tense Master</h3>
            <select id="tense-verb" onchange="showTense()"></select>
            <div id="tense-output" class="output" style="padding:10px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:5px;">
                    <div style="background:#e0e7ff; padding:5px; border-radius:5px;"><small>Present</small><br><strong id="t-p"></strong></div>
                    <div style="background:#fee2e2; padding:5px; border-radius:5px;"><small>Past</small><br><strong id="t-pt"></strong></div>
                    <div style="background:#dcfce7; padding:5px; border-radius:5px;"><small>Future</small><br><strong id="t-f"></strong></div>
                    <div style="background:#fef3c7; padding:5px; border-radius:5px;"><small>Cont.</small><br><strong id="t-c"></strong></div>
                </div>
            </div>
        </div>

        <div class="widget full-width" id="essay">
            <h3><i class="fa-solid fa-scroll"></i> Essay Generator</h3>
            <select id="essay-select" onchange="loadEssay()">
                <option value="">-- Select Essay --</option>
            </select>
            <div id="essay-container" class="output">
                <div id="essay-pdf-area" style="background:white; padding:30px; border:1px solid #ddd; position:relative;">
                    <div class="watermark">RMVS Class Tuitions</div>
                    <div id="essay-text" class="pdf-text"></div>
                </div>
                <button onclick="downloadPDF('essay-pdf-area', 'Essay.pdf')" class="btn-outline" style="margin-top:10px;">
                    <i class="fa-solid fa-download"></i> Download PDF
                </button>
            </div>
        </div>

        <div class="widget full-width" id="letters">
            <h3><i class="fa-solid fa-envelope"></i> Letter Generator</h3>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                <input type="text" id="l-subject" placeholder="Subject">
                <input type="text" id="l-to" value="The Principal">
            </div>
            <textarea id="l-reason" rows="2" placeholder="Reason"></textarea>
            <button onclick="generateLetter()">Generate Letter</button>
            <div id="letter-container" class="output">
                <div id="letter-pdf-area" style="background:white; padding:30px; border:1px solid #ddd; position:relative;">
                    <div class="watermark">RMVS Class Tuitions</div>
                    <div id="letter-text" class="pdf-text" style="white-space:pre-wrap;"></div>
                </div>
                <button onclick="downloadPDF('letter-pdf-area', 'Letter.pdf')" class="btn-outline" style="margin-top:10px;">
                    <i class="fa-solid fa-download"></i> Download PDF
                </button>
            </div>
        </div>

    </div>

    <a href="https://wa.me/919876543210" class="float-wa"><i class="fa-brands fa-whatsapp"></i></a>

    <nav class="bottom-nav">
        <a href="#omr" class="active"><i class="fa-solid fa-check-circle"></i></a>
        <a href="#translation"><i class="fa-solid fa-language"></i></a>
        <a href="#game"><i class="fa-solid fa-gamepad"></i></a>
        <a href="#essay"><i class="fa-solid fa-file-lines"></i></a>
        <a href="#letters"><i class="fa-solid fa-envelope"></i></a>
    </nav>

    <script>
        // --- 1. TIMER ---
        function updateTimer() {
            const diff = new Date("February 23, 2026 09:00:00").getTime() - new Date().getTime();
            if (diff > 0) {
                const d = Math.floor(diff / (1000 * 60 * 60 * 24));
                const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById("countdown").innerText = `${d} ‡§¶‡§ø‡§® ${h} ‡§ò‡§Ç‡§ü‡•á`;
            }
        }
        setInterval(updateTimer, 1000); updateTimer();

        // --- 2. OMR LOGIC ---
        const mcqs = [
            {q:"Lencho wrote a letter to _______.", opt:["God", "Postman", "PM", "Sarpanch"], a:0},
            {q:"Who was Tricki?", opt:["Cat", "Dog", "Rat", "Monkey"], a:1},
            {q:"Nelson Mandela became the first black president of _______.", opt:["USA", "India", "South Africa", "Kenya"], a:2},
            {q:"What destroyed Lencho's fields?", opt:["Flood", "Fire", "Hailstones", "Wind"], a:2},
            {q:"Who is the author of 'A Letter to God'?", opt:["G.L. Fuentes", "Ruskin Bond", "R.K. Narayan", "Shakespeare"], a:0},
            {q:"Valli was _______ years old.", opt:["7", "8", "9", "10"], a:1},
            {q:"Griffin was a _______.", opt:["Doctor", "Scientist", "Teacher", "Driver"], a:1},
            {q:"Bholi's real name was _______.", opt:["Sulekha", "Rekha", "Champa", "Kamla"], a:0},
            {q:"What did Kisa Gotami ask for?", opt:["Money", "Mustard seeds", "Medicine", "Gold"], a:1},
            {q:"Who is the poet of 'Dust of Snow'?", opt:["Robert Frost", "John Keats", "Wordsworth", "Leslie Norris"], a:0}
        ];
        let qIdx = 0, marks = 0;

        function loadOMR() {
            if(qIdx >= mcqs.length) {
                document.getElementById('quiz-box').innerHTML = `<h3 style='text-align:center; color:green'>Test Complete!</h3><h1 style='text-align:center'>${marks}/${mcqs.length}</h1>`;
                return;
            }
            const q = mcqs[qIdx];
            document.getElementById('q-num').innerText = qIdx + 1;
            document.getElementById('q-text').innerText = q.q;
            let html = "";
            q.opt.forEach((o, i) => {
                html += `<div class="omr-option" onclick="checkOMR(${i}, this)">${['A','B','C','D'][i]}. ${o}</div>`;
            });
            document.getElementById('options-box').innerHTML = html;
        }
        function checkOMR(sel, el) {
            if(sel === mcqs[qIdx].a) { el.style.background = "#dcfce7"; el.style.borderColor = "green"; marks++; addXP(5); } 
            else { el.style.background = "#fee2e2"; el.style.borderColor = "red"; }
            const all = document.querySelectorAll('.omr-option');
            all.forEach(d => d.onclick = null);
            setTimeout(() => { qIdx++; loadOMR(); }, 1000);
        }
        loadOMR();

        // --- 3. TRANSLATION (HOURLY) ---
        const paras = [
            {h: "‡§≠‡§æ‡§∞‡§§ ‡§è‡§ï ‡§Æ‡§π‡§æ‡§® ‡§¶‡•á‡§∂ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•Ä ‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø ‡§¨‡§π‡•Å‡§§ ‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§π‡•à‡•§", e: "India is a great country. Its culture is very old."},
            {h: "‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§è‡§ï ‡§∂‡•á‡§∞ ‡§ú‡§Ç‡§ó‡§≤ ‡§Æ‡•á‡§Ç ‡§∏‡•ã ‡§∞‡§π‡§æ ‡§•‡§æ‡•§", e: "Once a lion was sleeping in the forest."},
            {h: "‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§§‡§ø ‡§π‡•à‡•§", e: "Honesty is the best policy."}
        ];
        function loadTrans() {
            const idx = Math.floor(Date.now() / 3600000) % paras.length;
            document.getElementById('hindi-para').innerText = paras[idx].h;
            document.getElementById('english-para').innerText = paras[idx].e;
        }
        function checkTranslation() { document.getElementById('trans-result').style.display = 'block'; addXP(10); }
        loadTrans();

        // --- 4. GAME ---
        const words = [{w:"SCHOOL", h:"‡§ú‡§π‡§æ‡§Å ‡§π‡§Æ ‡§™‡§¢‡§º‡§§‡•á ‡§π‡•à‡§Ç"}, {w:"TEACHER", h:"‡§ú‡•ã ‡§π‡§Æ‡•á‡§Ç ‡§™‡§¢‡§º‡§æ‡§§‡•á ‡§π‡•à‡§Ç"}, {w:"FRIEND", h:"‡§¶‡•ã‡§∏‡•ç‡§§"}];
        let curW, gTimer, time=10, score=0;
        function loadGame() {
            clearInterval(gTimer); time=10; document.getElementById('game-timer').innerText="10s";
            curW = words[Math.floor(Math.random()*words.length)];
            document.getElementById('scramble-word').innerText = curW.w.split('').sort(()=>0.5-Math.random()).join(' ');
            document.getElementById('scramble-hint').innerText = `(${curW.h})`;
            document.getElementById('user-guess').value = "";
            document.getElementById('game-result').style.display="none";
            gTimer = setInterval(()=>{ time--; document.getElementById('game-timer').innerText=time+"s"; if(time<=0) loadGame(); }, 1000);
        }
        function checkSpelling() {
            if(document.getElementById('user-guess').value.toUpperCase().trim() === curW.w) {
                score+=10; document.getElementById('game-result').innerHTML=`<h4 style='color:green'>Correct! Score: ${score}</h4>`;
                document.getElementById('game-result').style.display="block"; clearInterval(gTimer); addXP(10); setTimeout(loadGame, 1500);
            }
        }
        function shareScore() { window.open(`https://wa.me/?text=Score: ${score}`, '_blank'); }
        loadGame();

        // --- 5. DICTIONARY ---
        async function fetchMeaning() {
            const w = document.getElementById('dict-input').value;
            try {
                const r1 = await fetch(`https://api.mymemory.translated.net/get?q=${w}&langpair=en|hi`);
                const d1 = await r1.json();
                document.getElementById('hindi-word').innerText = d1.responseData.translatedText;
                document.getElementById('dict-output').style.display="block";
                
                const r2 = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${w}`);
                const d2 = await r2.json();
                document.getElementById('word-title').innerText = w;
                document.getElementById('meanings-list').innerText = d2[0].meanings[0].definitions[0].definition;
            } catch(e){}
        }

        // --- 6. TENSE ---
        const vList = ["Go","Eat","Play","Write","Read","Sleep","Run","Walk","Talk","Speak","Listen","Watch","See","Look","Buy","Sell","Give","Take","Make","Do","Say","Tell","Ask","Answer","Know","Think","Feel","Love","Like","Hate","Start","Stop","Open","Close","Win","Lose","Come","Sit","Stand","Wait","Help","Work","Learn","Teach","Live","Die","Kill","Save","Call","Send","Pay","Meet","Cut","Put","Keep","Let","Get","Fly","Swim","Jump","Dance","Sing","Cry","Laugh","Smile","Shout","Fight","Hit","Break","Build","Clean","Wash","Cook","Drive","Ride","Wear","Use","Find","Lose","Fall","Rise","Grow","Show","Hide","Throw","Catch","Push","Pull","Touch","Kiss","Hurt","Heal","Pray","Hope","Wish","Dream","Plan"];
        vList.forEach(v => {
            let o = document.createElement('option'); o.value=v; o.innerText=v;
            document.getElementById('tense-verb').appendChild(o);
        });
        function showTense() {
            const v = document.getElementById('tense-verb').value;
            document.getElementById('t-p').innerText = v+"s";
            document.getElementById('t-pt').innerText = v+"ed";
            document.getElementById('t-f').innerText = "Will "+v;
            document.getElementById('t-c').innerText = "Is "+v+"ing";
            document.getElementById('tense-output').style.display="block";
        }

        // --- 7. ESSAY & LETTER & PDF ---
        const essays = {
            "Pollution": "Pollution is a big problem. It makes air and water dirty. We should plant trees.",
            "My School": "My school is very big. It has many rooms. I love my school."
        };
        for(let t in essays) {
            let o = document.createElement('option'); o.value=t; o.innerText=t;
            document.getElementById('essay-select').appendChild(o);
        }
        function loadEssay() {
            const t = document.getElementById('essay-select').value;
            if(t) {
                document.getElementById('essay-container').style.display="block";
                document.getElementById('essay-text').innerHTML = `<h3>${t}</h3><p>${essays[t]}</p>`;
            }
        }
        function generateLetter() {
            const txt = `To,\n${document.getElementById('l-to').value},\n\nSubject: ${document.getElementById('l-subject').value}\n\nSir,\n${document.getElementById('l-reason').value}\n\nYours,\nXYZ`;
            document.getElementById('letter-container').style.display="block";
            document.getElementById('letter-text').innerText=txt;
        }

        function downloadPDF(id, name) {
            const el = document.getElementById(id);
            const clone = el.cloneNode(true);
            clone.style.width='700px'; clone.style.padding='40px'; clone.style.background='white'; clone.style.position='absolute'; clone.style.top='-9999px'; clone.style.display='block';
            document.body.appendChild(clone);
            html2pdf().set({margin:10, filename:name, html2canvas:{scale:2}, jsPDF:{unit:'mm', format:'a4'}}).from(clone).save().then(()=>document.body.removeChild(clone));
        }

        // --- GLOBAL ---
        let xp=0; function addXP(n){ xp+=n; document.getElementById('xp-points').innerText=xp; }
        
        // NAV
        document.querySelectorAll('.bottom-nav a').forEach(a => {
            a.addEventListener('click', function() {
                document.querySelectorAll('.bottom-nav a').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
